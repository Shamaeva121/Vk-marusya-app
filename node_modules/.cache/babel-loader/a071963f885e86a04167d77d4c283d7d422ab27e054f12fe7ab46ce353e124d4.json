{"ast":null,"code":"import _classPrivateMethodInitSpec from \"d:/Users/User55/Documents/GitHub/Vk-marusya-app/node_modules/@babel/runtime/helpers/esm/classPrivateMethodInitSpec.js\";\nimport _classPrivateFieldInitSpec from \"d:/Users/User55/Documents/GitHub/Vk-marusya-app/node_modules/@babel/runtime/helpers/esm/classPrivateFieldInitSpec.js\";\nimport _classPrivateFieldSet from \"d:/Users/User55/Documents/GitHub/Vk-marusya-app/node_modules/@babel/runtime/helpers/esm/classPrivateFieldSet2.js\";\nimport _classPrivateFieldGet from \"d:/Users/User55/Documents/GitHub/Vk-marusya-app/node_modules/@babel/runtime/helpers/esm/classPrivateFieldGet2.js\";\nimport _classPrivateGetter from \"d:/Users/User55/Documents/GitHub/Vk-marusya-app/node_modules/@babel/runtime/helpers/esm/classPrivateGetter.js\";\nimport { TrackEvent } from \"./track-event.js\";\nimport { getPrivate } from \"./utils.js\";\nfunction addAudioTrack(media, track) {\n  const trackList = media.audioTracks;\n  getPrivate(track).media = media;\n  if (!getPrivate(track).renditionSet) {\n    getPrivate(track).renditionSet = /* @__PURE__ */new Set();\n  }\n  const trackSet = getPrivate(trackList).trackSet;\n  trackSet.add(track);\n  const index = trackSet.size - 1;\n  if (!(index in AudioTrackList.prototype)) {\n    Object.defineProperty(AudioTrackList.prototype, index, {\n      get() {\n        return [...getPrivate(this).trackSet][index];\n      }\n    });\n  }\n  queueMicrotask(() => {\n    trackList.dispatchEvent(new TrackEvent(\"addtrack\", {\n      track\n    }));\n  });\n}\nfunction removeAudioTrack(track) {\n  var _getPrivate$media;\n  const trackList = (_getPrivate$media = getPrivate(track).media) === null || _getPrivate$media === void 0 ? void 0 : _getPrivate$media.audioTracks;\n  if (!trackList) return;\n  const trackSet = getPrivate(trackList).trackSet;\n  trackSet.delete(track);\n  queueMicrotask(() => {\n    trackList.dispatchEvent(new TrackEvent(\"removetrack\", {\n      track\n    }));\n  });\n}\nfunction enabledChanged(track) {\n  const trackList = getPrivate(track).media.audioTracks;\n  if (!trackList || getPrivate(trackList).changeRequested) return;\n  getPrivate(trackList).changeRequested = true;\n  queueMicrotask(() => {\n    delete getPrivate(trackList).changeRequested;\n    trackList.dispatchEvent(new Event(\"change\"));\n  });\n}\nvar _addTrackCallback = /*#__PURE__*/new WeakMap();\nvar _removeTrackCallback = /*#__PURE__*/new WeakMap();\nvar _changeCallback = /*#__PURE__*/new WeakMap();\nvar _AudioTrackList_brand = /*#__PURE__*/new WeakSet();\nclass AudioTrackList extends EventTarget {\n  constructor() {\n    super();\n    _classPrivateMethodInitSpec(this, _AudioTrackList_brand);\n    _classPrivateFieldInitSpec(this, _addTrackCallback, void 0);\n    _classPrivateFieldInitSpec(this, _removeTrackCallback, void 0);\n    _classPrivateFieldInitSpec(this, _changeCallback, void 0);\n    getPrivate(this).trackSet = /* @__PURE__ */new Set();\n  }\n  [Symbol.iterator]() {\n    return _classPrivateGetter(_AudioTrackList_brand, this, _get_tracks).values();\n  }\n  get length() {\n    return _classPrivateGetter(_AudioTrackList_brand, this, _get_tracks).size;\n  }\n  getTrackById(id) {\n    var _find;\n    return (_find = [..._classPrivateGetter(_AudioTrackList_brand, this, _get_tracks)].find(track => track.id === id)) !== null && _find !== void 0 ? _find : null;\n  }\n  get onaddtrack() {\n    return _classPrivateFieldGet(_addTrackCallback, this);\n  }\n  set onaddtrack(callback) {\n    if (_classPrivateFieldGet(_addTrackCallback, this)) {\n      this.removeEventListener(\"addtrack\", _classPrivateFieldGet(_addTrackCallback, this));\n      _classPrivateFieldSet(_addTrackCallback, this, void 0);\n    }\n    if (typeof callback == \"function\") {\n      _classPrivateFieldSet(_addTrackCallback, this, callback);\n      this.addEventListener(\"addtrack\", callback);\n    }\n  }\n  get onremovetrack() {\n    return _classPrivateFieldGet(_removeTrackCallback, this);\n  }\n  set onremovetrack(callback) {\n    if (_classPrivateFieldGet(_removeTrackCallback, this)) {\n      this.removeEventListener(\"removetrack\", _classPrivateFieldGet(_removeTrackCallback, this));\n      _classPrivateFieldSet(_removeTrackCallback, this, void 0);\n    }\n    if (typeof callback == \"function\") {\n      _classPrivateFieldSet(_removeTrackCallback, this, callback);\n      this.addEventListener(\"removetrack\", callback);\n    }\n  }\n  get onchange() {\n    return _classPrivateFieldGet(_changeCallback, this);\n  }\n  set onchange(callback) {\n    if (_classPrivateFieldGet(_changeCallback, this)) {\n      this.removeEventListener(\"change\", _classPrivateFieldGet(_changeCallback, this));\n      _classPrivateFieldSet(_changeCallback, this, void 0);\n    }\n    if (typeof callback == \"function\") {\n      _classPrivateFieldSet(_changeCallback, this, callback);\n      this.addEventListener(\"change\", callback);\n    }\n  }\n}\nfunction _get_tracks(_this) {\n  return getPrivate(_this).trackSet;\n}\nexport { AudioTrackList, addAudioTrack, enabledChanged, removeAudioTrack };","map":{"version":3,"names":["TrackEvent","getPrivate","addAudioTrack","media","track","trackList","audioTracks","renditionSet","Set","trackSet","add","index","size","AudioTrackList","prototype","Object","defineProperty","get","queueMicrotask","dispatchEvent","removeAudioTrack","_getPrivate$media","delete","enabledChanged","changeRequested","Event","_addTrackCallback","WeakMap","_removeTrackCallback","_changeCallback","_AudioTrackList_brand","WeakSet","EventTarget","constructor","_classPrivateMethodInitSpec","_classPrivateFieldInitSpec","Symbol","iterator","_classPrivateGetter","_get_tracks","values","length","getTrackById","id","_find","find","onaddtrack","_classPrivateFieldGet","callback","removeEventListener","_classPrivateFieldSet","addEventListener","onremovetrack","onchange","_this"],"sources":["d:/Users/User55/Documents/GitHub/Vk-marusya-app/node_modules/media-tracks/dist/audio-track-list.js"],"sourcesContent":["import { TrackEvent } from \"./track-event.js\";\nimport { getPrivate } from \"./utils.js\";\nfunction addAudioTrack(media, track) {\n  const trackList = media.audioTracks;\n  getPrivate(track).media = media;\n  if (!getPrivate(track).renditionSet) {\n    getPrivate(track).renditionSet = /* @__PURE__ */ new Set();\n  }\n  const trackSet = getPrivate(trackList).trackSet;\n  trackSet.add(track);\n  const index = trackSet.size - 1;\n  if (!(index in AudioTrackList.prototype)) {\n    Object.defineProperty(AudioTrackList.prototype, index, {\n      get() {\n        return [...getPrivate(this).trackSet][index];\n      }\n    });\n  }\n  queueMicrotask(() => {\n    trackList.dispatchEvent(new TrackEvent(\"addtrack\", { track }));\n  });\n}\nfunction removeAudioTrack(track) {\n  const trackList = getPrivate(track).media?.audioTracks;\n  if (!trackList) return;\n  const trackSet = getPrivate(trackList).trackSet;\n  trackSet.delete(track);\n  queueMicrotask(() => {\n    trackList.dispatchEvent(new TrackEvent(\"removetrack\", { track }));\n  });\n}\nfunction enabledChanged(track) {\n  const trackList = getPrivate(track).media.audioTracks;\n  if (!trackList || getPrivate(trackList).changeRequested) return;\n  getPrivate(trackList).changeRequested = true;\n  queueMicrotask(() => {\n    delete getPrivate(trackList).changeRequested;\n    trackList.dispatchEvent(new Event(\"change\"));\n  });\n}\nclass AudioTrackList extends EventTarget {\n  #addTrackCallback;\n  #removeTrackCallback;\n  #changeCallback;\n  constructor() {\n    super();\n    getPrivate(this).trackSet = /* @__PURE__ */ new Set();\n  }\n  get #tracks() {\n    return getPrivate(this).trackSet;\n  }\n  [Symbol.iterator]() {\n    return this.#tracks.values();\n  }\n  get length() {\n    return this.#tracks.size;\n  }\n  getTrackById(id) {\n    return [...this.#tracks].find((track) => track.id === id) ?? null;\n  }\n  get onaddtrack() {\n    return this.#addTrackCallback;\n  }\n  set onaddtrack(callback) {\n    if (this.#addTrackCallback) {\n      this.removeEventListener(\"addtrack\", this.#addTrackCallback);\n      this.#addTrackCallback = void 0;\n    }\n    if (typeof callback == \"function\") {\n      this.#addTrackCallback = callback;\n      this.addEventListener(\"addtrack\", callback);\n    }\n  }\n  get onremovetrack() {\n    return this.#removeTrackCallback;\n  }\n  set onremovetrack(callback) {\n    if (this.#removeTrackCallback) {\n      this.removeEventListener(\"removetrack\", this.#removeTrackCallback);\n      this.#removeTrackCallback = void 0;\n    }\n    if (typeof callback == \"function\") {\n      this.#removeTrackCallback = callback;\n      this.addEventListener(\"removetrack\", callback);\n    }\n  }\n  get onchange() {\n    return this.#changeCallback;\n  }\n  set onchange(callback) {\n    if (this.#changeCallback) {\n      this.removeEventListener(\"change\", this.#changeCallback);\n      this.#changeCallback = void 0;\n    }\n    if (typeof callback == \"function\") {\n      this.#changeCallback = callback;\n      this.addEventListener(\"change\", callback);\n    }\n  }\n}\nexport {\n  AudioTrackList,\n  addAudioTrack,\n  enabledChanged,\n  removeAudioTrack\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}